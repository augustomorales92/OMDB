{"ast":null,"code":"import { createReducer, createAction, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from 'axios';\nexport const setUser = createAction(\"SET_USER\");\n/* export const sendLoginRequest = createAsyncThunk(\"SEND_LOGIN_REQUEST\", () => {\n    return  axios\n     .post(\"/api/login\")\n     .then(x => x.data )\n     \n     }) */\n\nexport const addToFavorite = createAsyncThunk(\"ADD_TO_FAVORITE\", movieId => {\n  return axios.get(`https://api.themoviedb.org/3/movie/${movieId}?api_key=4620455e1c3ab4ab640f78e163013622&language=en-US`).then(res => res.data).then(movie => movie.put(`/api/user`));\n});\n/* export const removeFromFavorite = createAsyncThunk(\"REMOVE_FROM_FAVORITE\",(flightId,thunkAPI) => {\n    const {user} = thunkAPI.getState()\n    return axios\n      .delete(`/api/favorites?userId=${user._id}&flightId=${flightId}`)\n      .then((res) => res.data)\n      \n  }) \n */\n\nconst userReducer = createReducer([], {\n  /* [sendLoginRequest.fulfilled]: (state,action) => action.payload, */\n  [addToFavorite.fulfilled]: (state, action) => action.payload,\n  [removeFromFavorite.fulfilled]: (state, action) => action.payload\n});\nexport default userReducer;","map":{"version":3,"sources":["/Users/augustomorales/p5/25-OMDB/src/state/user.js"],"names":["createReducer","createAction","createAsyncThunk","axios","setUser","addToFavorite","movieId","get","then","res","data","movie","put","userReducer","fulfilled","state","action","payload","removeFromFavorite"],"mappings":"AAAA,SAASA,aAAT,EAAuBC,YAAvB,EAAoCC,gBAApC,QAA4D,kBAA5D;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,OAAO,MAAMC,OAAO,GAAGH,YAAY,CAAC,UAAD,CAA5B;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMI,aAAa,GAAGH,gBAAgB,CAAC,iBAAD,EAAqBI,OAAD,IAAa;AAC1E,SAAOH,KAAK,CACZI,GADO,CAEF,sCAAqCD,OAAQ,0DAF3C,EAINE,IAJM,CAIDC,GAAG,IAAIA,GAAG,CAACC,IAJV,EAKNF,IALM,CAKDG,KAAK,IAAIA,KAAK,CAACC,GAAN,CAAW,WAAX,CALR,CAAP;AASD,CAV0C,CAAtC;AAaP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,WAAW,GAAGb,aAAa,CAAC,EAAD,EAAK;AAClC;AACA,GAACK,aAAa,CAACS,SAAf,GAA2B,CAACC,KAAD,EAAOC,MAAP,KAAkBA,MAAM,CAACC,OAFlB;AAGlC,GAACC,kBAAkB,CAACJ,SAApB,GAAgC,CAACC,KAAD,EAAOC,MAAP,KAAkBA,MAAM,CAACC;AAHvB,CAAL,CAAjC;AASG,eAAeJ,WAAf","sourcesContent":["import { createReducer,createAction,createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from 'axios'\n\n\nexport const setUser = createAction(\"SET_USER\")\n\n/* export const sendLoginRequest = createAsyncThunk(\"SEND_LOGIN_REQUEST\", () => {\n    return  axios\n     .post(\"/api/login\")\n     .then(x => x.data )\n     \n     }) */\n\nexport const addToFavorite = createAsyncThunk(\"ADD_TO_FAVORITE\", (movieId) => {\n    return axios.\n    get(\n        `https://api.themoviedb.org/3/movie/${movieId}?api_key=4620455e1c3ab4ab640f78e163013622&language=en-US`\n    )\n    .then(res => res.data)\n    .then(movie => movie.put(`/api/user`))\n    \n      \n      \n  }\n) \n\n/* export const removeFromFavorite = createAsyncThunk(\"REMOVE_FROM_FAVORITE\",(flightId,thunkAPI) => {\n    const {user} = thunkAPI.getState()\n    return axios\n      .delete(`/api/favorites?userId=${user._id}&flightId=${flightId}`)\n      .then((res) => res.data)\n      \n  }) \n */\n\nconst userReducer = createReducer([], {\n    /* [sendLoginRequest.fulfilled]: (state,action) => action.payload, */\n    [addToFavorite.fulfilled]: (state,action) => action.payload,\n    [removeFromFavorite.fulfilled]: (state,action) => action.payload, \n   \n});\n\n\n\n   export default userReducer;\n\n   "]},"metadata":{},"sourceType":"module"}