{"ast":null,"code":"import { createReducer, createAction, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from 'axios';\nexport const setUser = createAction(\"SET_USER\");\nexport const sendLoginRequest = createAsyncThunk(\"SEND_LOGIN_REQUEST\", () => {\n  return axios.post(\"/api/login\").then(x => x.data);\n});\nexport const addToFavorite = createAsyncThunk(\"ADD_TO_FAVORITE\", (movie, thunkAPI) => {\n  const {\n    user\n  } = thunkAPI.getState();\n  return axios.put(`/api/user?&flightId=${movie}`).then(res => res.data);\n});\nexport const removeFromFavorite = createAsyncThunk(\"REMOVE_FROM_FAVORITE\", (flightId, thunkAPI) => {\n  const {\n    user\n  } = thunkAPI.getState();\n  return axios.delete(`/api/favorites?userId=${user._id}&flightId=${flightId}`).then(res => res.data);\n});\nconst userReducer = createReducer([], {\n  [sendLoginRequest.fulfilled]: (state, action) => action.payload,\n  [addToFavorite.fulfilled]: (state, action) => action.payload,\n  [removeFromFavorite.fulfilled]: (state, action) => action.payload\n});\nexport default userReducer;","map":{"version":3,"sources":["/Users/augustomorales/p5/25-OMDB/src/state/user.js"],"names":["createReducer","createAction","createAsyncThunk","axios","setUser","sendLoginRequest","post","then","x","data","addToFavorite","movie","thunkAPI","user","getState","put","res","removeFromFavorite","flightId","delete","_id","userReducer","fulfilled","state","action","payload"],"mappings":"AAAA,SAASA,aAAT,EAAuBC,YAAvB,EAAoCC,gBAApC,QAA4D,kBAA5D;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,OAAO,MAAMC,OAAO,GAAGH,YAAY,CAAC,UAAD,CAA5B;AAEP,OAAO,MAAMI,gBAAgB,GAAGH,gBAAgB,CAAC,oBAAD,EAAuB,MAAM;AACzE,SAAQC,KAAK,CACXG,IADM,CACD,YADC,EAENC,IAFM,CAEDC,CAAC,IAAIA,CAAC,CAACC,IAFN,CAAR;AAIE,CAL0C,CAAzC;AAOP,OAAO,MAAMC,aAAa,GAAGR,gBAAgB,CAAC,iBAAD,EAAoB,CAACS,KAAD,EAAOC,QAAP,KAAoB;AAClF,QAAM;AAACC,IAAAA;AAAD,MAASD,QAAQ,CAACE,QAAT,EAAf;AACC,SAAQX,KAAK,CACVY,GADK,CACA,uBAAsBJ,KAAM,EAD5B,EAELJ,IAFK,CAECS,GAAD,IAASA,GAAG,CAACP,IAFb,CAAR;AAID,CAN0C,CAAtC;AASP,OAAO,MAAMQ,kBAAkB,GAAGf,gBAAgB,CAAC,sBAAD,EAAwB,CAACgB,QAAD,EAAUN,QAAV,KAAuB;AAC7F,QAAM;AAACC,IAAAA;AAAD,MAASD,QAAQ,CAACE,QAAT,EAAf;AACA,SAAOX,KAAK,CACTgB,MADI,CACI,yBAAwBN,IAAI,CAACO,GAAI,aAAYF,QAAS,EAD1D,EAEJX,IAFI,CAEES,GAAD,IAASA,GAAG,CAACP,IAFd,CAAP;AAID,CAN+C,CAA3C;AASP,MAAMY,WAAW,GAAGrB,aAAa,CAAC,EAAD,EAAK;AAClC,GAACK,gBAAgB,CAACiB,SAAlB,GAA8B,CAACC,KAAD,EAAOC,MAAP,KAAkBA,MAAM,CAACC,OADrB;AAElC,GAACf,aAAa,CAACY,SAAf,GAA2B,CAACC,KAAD,EAAOC,MAAP,KAAkBA,MAAM,CAACC,OAFlB;AAGlC,GAACR,kBAAkB,CAACK,SAApB,GAAgC,CAACC,KAAD,EAAOC,MAAP,KAAkBA,MAAM,CAACC;AAHvB,CAAL,CAAjC;AASG,eAAeJ,WAAf","sourcesContent":["import { createReducer,createAction,createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from 'axios'\n\n\nexport const setUser = createAction(\"SET_USER\")\n\nexport const sendLoginRequest = createAsyncThunk(\"SEND_LOGIN_REQUEST\", () => {\n    return  axios\n     .post(\"/api/login\")\n     .then(x => x.data )\n     \n     })\n\nexport const addToFavorite = createAsyncThunk(\"ADD_TO_FAVORITE\", (movie,thunkAPI) => {\n   const {user} = thunkAPI.getState()\n    return  axios\n      .put(`/api/user?&flightId=${movie}`)\n      .then((res) => res.data)\n      \n  }\n) \n\nexport const removeFromFavorite = createAsyncThunk(\"REMOVE_FROM_FAVORITE\",(flightId,thunkAPI) => {\n    const {user} = thunkAPI.getState()\n    return axios\n      .delete(`/api/favorites?userId=${user._id}&flightId=${flightId}`)\n      .then((res) => res.data)\n      \n  }) \n\n\nconst userReducer = createReducer([], {\n    [sendLoginRequest.fulfilled]: (state,action) => action.payload,\n    [addToFavorite.fulfilled]: (state,action) => action.payload,\n    [removeFromFavorite.fulfilled]: (state,action) => action.payload, \n   \n});\n\n\n\n   export default userReducer;\n\n   "]},"metadata":{},"sourceType":"module"}