{"ast":null,"code":"import { createReducer, createAction, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from 'axios';\nexport const setUser = createAction(\"SET_USER\");\nexport const sendLoginRequest = createAsyncThunk(\"SEND_LOGIN_REQUEST\", () => {\n  return axios.post(\"/api/login\").then(x => x.data);\n});\nexport const addToFavorite = createAsyncThunk(\"ADD_TO_FAVORITE\", movie => {\n  return axios.then();\n  return axios.put(`/api/user?userId=${user.id}&movieId=${movie}`).then(res => res.data);\n});\nexport const removeFromFavorite = createAsyncThunk(\"REMOVE_FROM_FAVORITE\", (flightId, thunkAPI) => {\n  const {\n    user\n  } = thunkAPI.getState();\n  return axios.delete(`/api/favorites?userId=${user._id}&flightId=${flightId}`).then(res => res.data);\n});\nconst userReducer = createReducer([], {\n  [sendLoginRequest.fulfilled]: (state, action) => action.payload,\n  [addToFavorite.fulfilled]: (state, action) => action.payload,\n  [removeFromFavorite.fulfilled]: (state, action) => action.payload\n});\nexport default userReducer;","map":{"version":3,"sources":["/Users/augustomorales/p5/25-OMDB/src/state/user.js"],"names":["createReducer","createAction","createAsyncThunk","axios","setUser","sendLoginRequest","post","then","x","data","addToFavorite","movie","put","user","id","res","removeFromFavorite","flightId","thunkAPI","getState","delete","_id","userReducer","fulfilled","state","action","payload"],"mappings":"AAAA,SAASA,aAAT,EAAuBC,YAAvB,EAAoCC,gBAApC,QAA4D,kBAA5D;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,OAAO,MAAMC,OAAO,GAAGH,YAAY,CAAC,UAAD,CAA5B;AAEP,OAAO,MAAMI,gBAAgB,GAAGH,gBAAgB,CAAC,oBAAD,EAAuB,MAAM;AACzE,SAAQC,KAAK,CACXG,IADM,CACD,YADC,EAENC,IAFM,CAEDC,CAAC,IAAIA,CAAC,CAACC,IAFN,CAAR;AAIE,CAL0C,CAAzC;AAOP,OAAO,MAAMC,aAAa,GAAGR,gBAAgB,CAAC,iBAAD,EAAqBS,KAAD,IAAY;AACzE,SAAOR,KAAK,CAACI,IAAN,EAAP;AAGA,SAAQJ,KAAK,CACVS,GADK,CACA,oBAAmBC,IAAI,CAACC,EAAG,YAAWH,KAAM,EAD5C,EAELJ,IAFK,CAECQ,GAAD,IAASA,GAAG,CAACN,IAFb,CAAR;AAID,CAR0C,CAAtC;AAWP,OAAO,MAAMO,kBAAkB,GAAGd,gBAAgB,CAAC,sBAAD,EAAwB,CAACe,QAAD,EAAUC,QAAV,KAAuB;AAC7F,QAAM;AAACL,IAAAA;AAAD,MAASK,QAAQ,CAACC,QAAT,EAAf;AACA,SAAOhB,KAAK,CACTiB,MADI,CACI,yBAAwBP,IAAI,CAACQ,GAAI,aAAYJ,QAAS,EAD1D,EAEJV,IAFI,CAEEQ,GAAD,IAASA,GAAG,CAACN,IAFd,CAAP;AAID,CAN+C,CAA3C;AASP,MAAMa,WAAW,GAAGtB,aAAa,CAAC,EAAD,EAAK;AAClC,GAACK,gBAAgB,CAACkB,SAAlB,GAA8B,CAACC,KAAD,EAAOC,MAAP,KAAkBA,MAAM,CAACC,OADrB;AAElC,GAAChB,aAAa,CAACa,SAAf,GAA2B,CAACC,KAAD,EAAOC,MAAP,KAAkBA,MAAM,CAACC,OAFlB;AAGlC,GAACV,kBAAkB,CAACO,SAApB,GAAgC,CAACC,KAAD,EAAOC,MAAP,KAAkBA,MAAM,CAACC;AAHvB,CAAL,CAAjC;AASG,eAAeJ,WAAf","sourcesContent":["import { createReducer,createAction,createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from 'axios'\n\n\nexport const setUser = createAction(\"SET_USER\")\n\nexport const sendLoginRequest = createAsyncThunk(\"SEND_LOGIN_REQUEST\", () => {\n    return  axios\n     .post(\"/api/login\")\n     .then(x => x.data )\n     \n     })\n\nexport const addToFavorite = createAsyncThunk(\"ADD_TO_FAVORITE\", (movie,) => {\n    return axios.then(\n        \n    )\n    return  axios\n      .put(`/api/user?userId=${user.id}&movieId=${movie}`)\n      .then((res) => res.data)\n      \n  }\n) \n\nexport const removeFromFavorite = createAsyncThunk(\"REMOVE_FROM_FAVORITE\",(flightId,thunkAPI) => {\n    const {user} = thunkAPI.getState()\n    return axios\n      .delete(`/api/favorites?userId=${user._id}&flightId=${flightId}`)\n      .then((res) => res.data)\n      \n  }) \n\n\nconst userReducer = createReducer([], {\n    [sendLoginRequest.fulfilled]: (state,action) => action.payload,\n    [addToFavorite.fulfilled]: (state,action) => action.payload,\n    [removeFromFavorite.fulfilled]: (state,action) => action.payload, \n   \n});\n\n\n\n   export default userReducer;\n\n   "]},"metadata":{},"sourceType":"module"}