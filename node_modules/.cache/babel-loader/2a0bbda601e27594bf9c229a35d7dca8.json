{"ast":null,"code":"import { createReducer, createAction, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from 'axios';\nexport const setUser = createAction(\"SET_USER\");\nexport const sendLoginRequest = createAsyncThunk(\"SEND_LOGIN_REQUEST\", () => {\n  return axios.post(\"/api/login\").then(x => x.data);\n});\nexport const addToFavorite = createAsyncThunk(\"ADD_TO_FAVORITE\", movie => {\n  return axios.get(`https://api.themoviedb.org/3/movie/${movieId}?api_key=4620455e1c3ab4ab640f78e163013622&language=en-US`).then(res => res.data).then(movie => movie.put(`/api/user`));\n});\nexport const removeFromFavorite = createAsyncThunk(\"REMOVE_FROM_FAVORITE\", (flightId, thunkAPI) => {\n  const {\n    user\n  } = thunkAPI.getState();\n  return axios.delete(`/api/favorites?userId=${user._id}&flightId=${flightId}`).then(res => res.data);\n});\nconst userReducer = createReducer([], {\n  [sendLoginRequest.fulfilled]: (state, action) => action.payload,\n  [addToFavorite.fulfilled]: (state, action) => action.payload,\n  [removeFromFavorite.fulfilled]: (state, action) => action.payload\n});\nexport default userReducer;","map":{"version":3,"sources":["/Users/augustomorales/p5/25-OMDB/src/state/user.js"],"names":["createReducer","createAction","createAsyncThunk","axios","setUser","sendLoginRequest","post","then","x","data","addToFavorite","movie","get","movieId","res","put","removeFromFavorite","flightId","thunkAPI","user","getState","delete","_id","userReducer","fulfilled","state","action","payload"],"mappings":"AAAA,SAASA,aAAT,EAAuBC,YAAvB,EAAoCC,gBAApC,QAA4D,kBAA5D;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,OAAO,MAAMC,OAAO,GAAGH,YAAY,CAAC,UAAD,CAA5B;AAEP,OAAO,MAAMI,gBAAgB,GAAGH,gBAAgB,CAAC,oBAAD,EAAuB,MAAM;AACzE,SAAQC,KAAK,CACXG,IADM,CACD,YADC,EAENC,IAFM,CAEDC,CAAC,IAAIA,CAAC,CAACC,IAFN,CAAR;AAIE,CAL0C,CAAzC;AAOP,OAAO,MAAMC,aAAa,GAAGR,gBAAgB,CAAC,iBAAD,EAAqBS,KAAD,IAAY;AACzE,SAAOR,KAAK,CACZS,GADO,CAEF,sCAAqCC,OAAQ,0DAF3C,EAINN,IAJM,CAIDO,GAAG,IAAIA,GAAG,CAACL,IAJV,EAKNF,IALM,CAKDI,KAAK,IAAIA,KAAK,CAACI,GAAN,CAAW,WAAX,CALR,CAAP;AASD,CAV0C,CAAtC;AAaP,OAAO,MAAMC,kBAAkB,GAAGd,gBAAgB,CAAC,sBAAD,EAAwB,CAACe,QAAD,EAAUC,QAAV,KAAuB;AAC7F,QAAM;AAACC,IAAAA;AAAD,MAASD,QAAQ,CAACE,QAAT,EAAf;AACA,SAAOjB,KAAK,CACTkB,MADI,CACI,yBAAwBF,IAAI,CAACG,GAAI,aAAYL,QAAS,EAD1D,EAEJV,IAFI,CAEEO,GAAD,IAASA,GAAG,CAACL,IAFd,CAAP;AAID,CAN+C,CAA3C;AASP,MAAMc,WAAW,GAAGvB,aAAa,CAAC,EAAD,EAAK;AAClC,GAACK,gBAAgB,CAACmB,SAAlB,GAA8B,CAACC,KAAD,EAAOC,MAAP,KAAkBA,MAAM,CAACC,OADrB;AAElC,GAACjB,aAAa,CAACc,SAAf,GAA2B,CAACC,KAAD,EAAOC,MAAP,KAAkBA,MAAM,CAACC,OAFlB;AAGlC,GAACX,kBAAkB,CAACQ,SAApB,GAAgC,CAACC,KAAD,EAAOC,MAAP,KAAkBA,MAAM,CAACC;AAHvB,CAAL,CAAjC;AASG,eAAeJ,WAAf","sourcesContent":["import { createReducer,createAction,createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from 'axios'\n\n\nexport const setUser = createAction(\"SET_USER\")\n\nexport const sendLoginRequest = createAsyncThunk(\"SEND_LOGIN_REQUEST\", () => {\n    return  axios\n     .post(\"/api/login\")\n     .then(x => x.data )\n     \n     })\n\nexport const addToFavorite = createAsyncThunk(\"ADD_TO_FAVORITE\", (movie,) => {\n    return axios.\n    get(\n        `https://api.themoviedb.org/3/movie/${movieId}?api_key=4620455e1c3ab4ab640f78e163013622&language=en-US`\n    )\n    .then(res => res.data)\n    .then(movie => movie.put(`/api/user`))\n    \n      \n      \n  }\n) \n\nexport const removeFromFavorite = createAsyncThunk(\"REMOVE_FROM_FAVORITE\",(flightId,thunkAPI) => {\n    const {user} = thunkAPI.getState()\n    return axios\n      .delete(`/api/favorites?userId=${user._id}&flightId=${flightId}`)\n      .then((res) => res.data)\n      \n  }) \n\n\nconst userReducer = createReducer([], {\n    [sendLoginRequest.fulfilled]: (state,action) => action.payload,\n    [addToFavorite.fulfilled]: (state,action) => action.payload,\n    [removeFromFavorite.fulfilled]: (state,action) => action.payload, \n   \n});\n\n\n\n   export default userReducer;\n\n   "]},"metadata":{},"sourceType":"module"}